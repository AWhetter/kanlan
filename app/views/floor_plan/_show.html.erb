<div class="floor_plan">
  <% @tables.each do |table| %>
    <h1><%= table["name"] %></h1>
		<div class="tables container" id="<%=table["name"]%>">
			<!-- Left End Table -->
			<% if KanLan::END_TABLES[table["name"]].include? "L" %>
				<div class="left_end_table end_table col-sm-1">
					<% for i in 1..table["seats_per_table"] %>
						<div class="seat">
							<% seat_name = KanLan::LEFT_TABLE_NAME + i.to_s %>
							<% user = User.where(:table => table["name"], :seat => seat_name).first %>
							<% if !user.nil? %>
								<%= user.username %>
							<% else %>
								<%= seat_name %>
							<% end %>
						</div>
					<% end %>

				</div>
			<% end %>

			<!-- Main Tables -->
			<div class="col-sm-10">
				<div class="table_rows">
				<% table["rows"].each do |row| %>
					<div class="table_row">
						<% for j in 1..table["tables"] %>
							<div class="real_table">
								<% for i in 1..table["seats_per_table"] %>
									<div class="seat">
										<% seat_num = (j-1)*table["seats_per_table"] + (i-1) %>
										<% seat_name = row + seat_num.to_s %>
										<% user = User.where(:table => table["name"], :seat => seat_name).first %>
										<% if !user.nil? %>
											<%= user.username %>
										<% else %>
											<%= seat_name %>
										<% end %>
									</div>
								<% end %>
							</div>
						<% end %>
					</div>
				<% end %>
				</div>
			</div>

			<!-- Right End Table -->
			<% if KanLan::END_TABLES[table["name"]].include? "R" %>
				<div class="right_end_table end_table col-sm-1">
					<% for i in 1..table["seats_per_table"] %>
						<div class="seat">
							<% seat_name = KanLan::RIGHT_TABLE_NAME + i.to_s %>
							<% user = User.where(:table => table["name"], :seat => seat_name).first %>
							<% if !user.nil? %>
								<%= user.username %>
							<% else %>
								<%= seat_name %>
							<% end %>
						</div>
					<% end %>
				</div>
			<% end %>

		</div>
	<% end %>
</div>
